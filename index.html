<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PPP Dimension Selector Self-check</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background-color: #ffffff;
            color: #000000;
        }

        .page {
            max-width: 1100px;
            margin: 24px auto 40px;
            padding: 0 16px 40px;
        }

        .banner {
            background-color: #00205b;
            color: #ffffff;
            padding: 12px 16px;
            margin-bottom: 16px;
            font-size: 1.4em;
            font-weight: 600;
        }

        .intro-box {
            background-color: #f3f3f3;
            padding: 16px 20px;
            margin-bottom: 24px;
            font-size: 0.95em;
        }

        .intro-box ul {
            margin-top: 8px;
        }

        .table-wrapper {
            overflow-x: auto;
            margin-top: 16px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        th, td {
            border: 1px solid #dddddd;
            padding: 8px;
            vertical-align: top;
        }

        th {
            background-color: #f3f3f3;
            text-align: center;
        }

        th:first-child,
        td:first-child {
            text-align: left;
            width: 60%;
        }

        .likert-cell {
            text-align: center;
            width: 40px;
        }

        .likert-cell input {
            cursor: pointer;
        }

        .missing {
            background-color: #fff0f0;
            outline: 2px solid #c10404;
        }

        .error-message {
            color: #c10404;
            font-weight: 600;
            margin: 8px 0 0;
        }

        .button-row {
            margin: 18px 0 24px;
            text-align: left;
        }

        #calculate-button {
            background-color: #c10404;
            color: #ffffff;
            border: none;
            padding: 8px 18px;
            border-radius: 4px;
            font-size: 0.95em;
            cursor: pointer;
        }

        #calculate-button:hover {
            background-color: #a10303;
        }

        .results {
            margin-top: 24px;
        }

        .results h2 {
            color: #c10404;
            margin-top: 0;
        }

        .results h3 {
            color: #c10404;
            margin-top: 20px;
        }

        .dimension-block {
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e0e0e0;
        }

        .dimension-block:last-child {
            border-bottom: none;
        }

        #ranking-table {
            margin-top: 8px;
        }

        #ranking-table th {
            text-align: left;
        }

        #ranking-table td:last-child,
        #ranking-table th:last-child {
            text-align: center;
            width: 130px;
        }

        #summary-text {
            width: 100%;
            min-height: 180px;
            resize: vertical;
            font-family: "Courier New", monospace;
            font-size: 0.9em;
            padding: 8px;
            box-sizing: border-box;
        }

        .note {
            font-size: 0.9em;
        }
    </style>
</head>
<body>
<div class="page">

    <div class="banner">PPP Dimension Selector Self-check</div>

    <div class="intro-box">
        <p><strong>Use this quick self‑check to identify which PPP dimensions might be most useful to focus on.</strong> Rate each statement on a scale from 1–5:</p>
        <ul>
            <li>1 = Strongly disagree</li>
            <li>2 = Disagree</li>
            <li>3 = Neutral / unsure</li>
            <li>4 = Agree</li>
            <li>5 = Strongly agree</li>
        </ul>
        <p>Lower scores often indicate areas where additional focus may be helpful. This tool is for your own reflection only – it is not stored or submitted.</p>
        <p>Allow around <strong>5–7 minutes</strong>. Once you’ve finished, click <strong>Calculate priorities</strong> to see your three highest‑priority dimensions and a full ranked list.</p>
    </div>

    <div class="table-wrapper">
        <table>
            <thead>
            <tr>
                <th>Dimension &amp; statement</th>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
            </tr>
            </thead>
            <tbody id="question-rows">
            <!-- rows are injected by JavaScript -->
            </tbody>
        </table>
    </div>

    <div class="button-row">
        <button id="calculate-button" type="button">Calculate priorities</button>
        <div id="error-message" class="error-message" aria-live="polite"></div>
    </div>

    <div id="results" class="results" style="display:none;">
        <h2>Your PPP dimension priorities</h2>
        <p>Dimensions are listed from <strong>highest priority</strong> (lowest average rating) to lowest priority. You might choose
            one dimension as your main focus for this PPP cycle, or work in more depth on a single area across the year.</p>

        <h3>Top three priorities</h3>
        <div id="top-three"></div>

        <h3>Full ranking</h3>
        <table id="ranking-table">
            <thead>
            <tr>
                <th>Dimension</th>
                <th>Average rating</th>
            </tr>
            </thead>
            <tbody id="ranking-body">
            <!-- filled by JS -->
            </tbody>
        </table>

        <h3>Copy‑and‑paste summary</h3>
        <p class="note">
            Copy the text below into a Word document or your PPP planning form so you have a record of your current
            priorities. At the end of your PPP program, you can repeat this self‑check and compare your results.
            Changes in priority areas can highlight dimensions where you’ve grown – and suggest new dimensions to focus
            on next time (for example, as future badge opportunities).
        </p>
        <textarea id="summary-text" readonly></textarea>
    </div>
</div>

<script>
    // ---------------- Question and dimension data ----------------

    const questions = [
        // 1. Fostering Active and Inclusive Engagement
        {
            id: 1,
            dimension: 1,
            reverse: false,
            text: "Students in my classes spend more time actively working (discussing, solving, creating) than just listening to me talk."
        },
        {
            id: 2,
            dimension: 1,
            reverse: true,
            text: "It is common for the same few students to dominate discussion while others stay mostly silent."
        },
        {
            id: 3,
            dimension: 1,
            reverse: false,
            text: "I deliberately design participation structures so quieter or marginalised students can contribute in ways that feel safe."
        },

        // 2. Connecting to Learners’ Prior Knowledge and Experience
        {
            id: 4,
            dimension: 2,
            reverse: false,
            text: "Before starting a new topic, I find out what students already know or believe about it."
        },
        {
            id: 5,
            dimension: 2,
            reverse: true,
            text: "I rarely ask students to connect new ideas to their own professional, cultural or life experiences."
        },
        {
            id: 6,
            dimension: 2,
            reverse: false,
            text: "When students hold misconceptions, I deliberately plan activities or explanations to help them rethink their understanding."
        },

        // 3. Designing for Indigenous Perspectives, Diversity, Equity, and Belonging
        {
            id: 7,
            dimension: 3,
            reverse: false,
            text: "My examples, cases or resources reflect a variety of cultures, identities and perspectives, including Indigenous perspectives where appropriate."
        },
        {
            id: 8,
            dimension: 3,
            reverse: true,
            text: "Some groups of students would struggle to fully participate in my classes because of how activities, resources or assessments are currently designed."
        },
        {
            id: 9,
            dimension: 3,
            reverse: false,
            text: "I intentionally cultivate a class culture where all students can see themselves as belonging and able to contribute."
        },

        // 4. Developing Deep Conceptual Understanding and Critical Thinking
        {
            id: 10,
            dimension: 4,
            reverse: false,
            text: "I design tasks that require students to analyse, evaluate or create, not just recall information."
        },
        {
            id: 11,
            dimension: 4,
            reverse: true,
            text: "Class time is often consumed by covering content rather than giving students space to grapple with ideas."
        },
        {
            id: 12,
            dimension: 4,
            reverse: false,
            text: "I invite students to explain their reasoning, compare viewpoints or justify decisions using evidence."
        },

        // 5. Making Learning Outcomes and Pathways Transparent
        {
            id: 13,
            dimension: 5,
            reverse: false,
            text: "For each course or session, I clearly communicate the intended learning outcomes to students."
        },
        {
            id: 14,
            dimension: 5,
            reverse: true,
            text: "Students would find it hard to see how assessment tasks connect to broader skills or graduate attributes."
        },
        {
            id: 15,
            dimension: 5,
            reverse: false,
            text: "I use rubrics, annotated exemplars or co‑created criteria to make expectations for quality work explicit."
        },

        // 6. Bridging Theory, Practice, and Interdisciplinarity
        {
            id: 16,
            dimension: 6,
            reverse: false,
            text: "I regularly connect theoretical ideas to real‑world cases, scenarios or workplace examples."
        },
        {
            id: 17,
            dimension: 6,
            reverse: true,
            text: "Students rarely have opportunities to apply ideas across disciplines or to messy, interdisciplinary problems."
        },
        {
            id: 18,
            dimension: 6,
            reverse: false,
            text: "I invite perspectives from industry, community or other disciplines to deepen understanding."
        },

        // 7. Harnessing Digital, Physical, and Hybrid Environments
        {
            id: 19,
            dimension: 7,
            reverse: false,
            text: "I make purposeful choices about when to use online, face‑to‑face or hybrid modes to support learning."
        },
        {
            id: 20,
            dimension: 7,
            reverse: true,
            text: "Technology in my course is mostly used to upload files rather than to support collaboration or interaction."
        },
        {
            id: 21,
            dimension: 7,
            reverse: false,
            text: "I review how well my use of physical spaces, the LMS and digital tools works for different students and adjust my design where needed."
        },

        // 8. Structuring and Communicating Learning Clearly
        {
            id: 22,
            dimension: 8,
            reverse: false,
            text: "I provide a clear course or module roadmap so students can see how learning is organised over time."
        },
        {
            id: 23,
            dimension: 8,
            reverse: true,
            text: "Within a class or online module, activities and resources can feel disjointed or hard to follow."
        },
        {
            id: 24,
            dimension: 8,
            reverse: false,
            text: "When I introduce new material, I deliberately sequence it to build from simpler ideas to more complex ones."
        },

        // 9. Embedding Feedback Loops and Assessment for Learning
        {
            id: 25,
            dimension: 9,
            reverse: false,
            text: "I design low‑stakes activities (quizzes, drafts, polls, reflections) so that I and my students can gauge learning progress."
        },
        {
            id: 26,
            dimension: 9,
            reverse: true,
            text: "Students often receive feedback only at the end of a task or course, when it is too late to use."
        },
        {
            id: 27,
            dimension: 9,
            reverse: false,
            text: "I explicitly build in time for students to respond to feedback (for example, through revisions, reflections or planning next steps)."
        },

        // 10. Cultivating Creativity, Wellbeing, and Lifelong Learning
        {
            id: 28,
            dimension: 10,
            reverse: false,
            text: "Some learning activities in my course invite students to be creative, experimental or imaginative in how they respond."
        },
        {
            id: 29,
            dimension: 10,
            reverse: true,
            text: "I rarely talk with students about strategies for managing workload, stress or study–life balance."
        },
        {
            id: 30,
            dimension: 10,
            reverse: false,
            text: "I encourage students to consider how skills from this course will be useful beyond assessment and into their longer‑term futures."
        },

        // 11. Developing Metacognitive and Self‑Regulatory Learning
        {
            id: 31,
            dimension: 11,
            reverse: false,
            text: "I explicitly teach or model study and learning strategies rather than assuming students already have them."
        },
        {
            id: 32,
            dimension: 11,
            reverse: true,
            text: "Students seldom get structured opportunities to reflect on how they are learning and what is or is not working for them."
        },
        {
            id: 33,
            dimension: 11,
            reverse: false,
            text: "Students are given chances to plan their learning (for example, setting goals or choosing approaches) and to review how those plans worked."
        },

        // 12. Integrating Digital and AI Literacy for Learning
        {
            id: 34,
            dimension: 12,
            reverse: false,
            text: "I discuss with students how to evaluate the credibility of digital resources and information."
        },
        {
            id: 35,
            dimension: 12,
            reverse: true,
            text: "When AI tools are relevant, I rarely address ethical and responsible use with students."
        },
        {
            id: 36,
            dimension: 12,
            reverse: false,
            text: "I design at least some tasks that require students to use digital or AI tools critically rather than uncritically accepting outputs."
        }
    ];

    const dimensions = [
        {
            id: 1,
            name: "Fostering Active and Inclusive Engagement",
            description: "Focus here if you want to design sessions where students are consistently active, included and engaged. In PPP you and your partner might experiment with participation structures that reduce reliance on long explanations and invite broader student voices into discussions."
        },
        {
            id: 2,
            name: "Connecting to Learners’ Prior Knowledge and Experience",
            description: "A lower rating here suggests that drawing more deliberately on students’ existing knowledge and experiences could strengthen learning. In PPP you might try quick diagnostics, concept checks or activities that invite students’ professional and cultural experiences into the room."
        },
        {
            id: 3,
            name: "Designing for Indigenous Perspectives, Diversity, Equity, and Belonging",
            description: "This area focuses on equity, inclusion and the visibility of Indigenous perspectives. In PPP you could audit readings, examples and assessments through a UDL lens, seek advice on embedding Indigenous knowledges and trial small design changes that make participation safer and more accessible."
        },
        {
            id: 4,
            name: "Developing Deep Conceptual Understanding and Critical Thinking",
            description: "A lower score here can indicate that students are spending more time receiving information than doing challenging work with it. In PPP you might redesign a class so that students compare perspectives, justify decisions with evidence or tackle problems where there is no single correct answer."
        },
        {
            id: 5,
            name: "Making Learning Outcomes and Pathways Transparent",
            description: "This dimension is about clarity – helping students see what they are working towards and how success is judged. In PPP you and your partner might refine outcome statements, strengthen the links between tasks and outcomes, or use rubrics and exemplars to make expectations more visible."
        },
        {
            id: 6,
            name: "Bridging Theory, Practice, and Interdisciplinarity",
            description: "A lower rating suggests opportunities to connect ideas more directly to real‑world and cross‑disciplinary contexts. In PPP you might co‑design an activity that links theory to practice, invites industry or community perspectives, or asks students to work across disciplinary boundaries."
        },
        {
            id: 7,
            name: "Harnessing Digital, Physical, and Hybrid Environments",
            description: "This dimension focuses on using spaces and technologies purposefully rather than by default. In PPP you could explore how different modes (online, hybrid, on‑campus) support particular activities and trial tools that make learning more flexible, accessible and collaborative."
        },
        {
            id: 8,
            name: "Structuring and Communicating Learning Clearly",
            description: "A lower score here points to the value of refining the overall learning ‘story’. In PPP you might work with your partner to map the learner journey, simplify navigation in Canvas, or adjust the sequence of activities so that new concepts build clearly from earlier ones."
        },
        {
            id: 9,
            name: "Embedding Feedback Loops and Assessment for Learning",
            description: "This dimension emphasises feedback as an ongoing conversation rather than a one‑off event. In PPP you might increase the use of low‑stakes tasks, build in class time for students to act on feedback, or refine how comments point students towards concrete next steps."
        },
        {
            id: 10,
            name: "Cultivating Creativity, Wellbeing, and Lifelong Learning",
            description: "A lower rating here suggests room to support students as whole learners. In PPP you might try more open or creative tasks, make space for discussions about workload and wellbeing, or connect learning activities explicitly to students’ future goals and identities."
        },
        {
            id: 11,
            name: "Developing Metacognitive and Self‑Regulatory Learning",
            description: "This area is about helping students learn how to learn. In PPP you might make learning strategies more explicit, build regular reflection prompts into your course, or create simple planning tools that encourage students to monitor and adjust their own approaches."
        },
        {
            id: 12,
            name: "Integrating Digital and AI Literacy for Learning",
            description: "A lower score here highlights the value of supporting students to engage critically and ethically with digital and AI tools. In PPP you could co‑design activities where students interrogate sources, compare AI outputs with human work, or discuss responsible use in your discipline."
        }
    ];

    // map dimension -> question IDs
    const dimensionQuestions = {};
    dimensions.forEach(dim => {
        dimensionQuestions[dim.id] = questions
            .filter(q => q.dimension === dim.id)
            .map(q => q.id);
    });

    // quick lookup: question id -> question object
    const questionLookup = {};
    questions.forEach(q => {
        questionLookup[q.id] = q;
    });

    // ---------------- Build the question table ----------------

    function buildQuestionTable() {
        const tbody = document.getElementById("question-rows");
        tbody.innerHTML = "";

        questions.forEach(q => {
            const tr = document.createElement("tr");
            tr.id = "row-q" + q.id;

            const textCell = document.createElement("td");
            textCell.textContent = q.text;
            tr.appendChild(textCell);

            for (let value = 1; value <= 5; value++) {
                const td = document.createElement("td");
                td.className = "likert-cell";

                const input = document.createElement("input");
                input.type = "radio";
                input.name = "q" + q.id;
                input.value = value;

                input.addEventListener("change", () => {
                    tr.classList.remove("missing");
                    const errorDiv = document.getElementById("error-message");
                    errorDiv.textContent = "";
                });

                td.appendChild(input);
                tr.appendChild(td);
            }

            tbody.appendChild(tr);
        });
    }

    // ---------------- Calculation logic ----------------

    function calculatePriorities() {
        const errorDiv = document.getElementById("error-message");
        const resultsDiv = document.getElementById("results");

        // Clear previous highlighting
        questions.forEach(q => {
            const row = document.getElementById("row-q" + q.id);
            row.classList.remove("missing");
        });

        // Check for unanswered questions
        const missing = [];
        questions.forEach(q => {
            const selected = document.querySelector('input[name="q' + q.id + '"]:checked');
            if (!selected) {
                missing.push(q.id);
                const row = document.getElementById("row-q" + q.id);
                row.classList.add("missing");
            }
        });

        if (missing.length > 0) {
            errorDiv.textContent =
                "Please answer all statements before calculating. Items highlighted in light red above still need a response.";
            const firstMissingRow = document.getElementById("row-q" + missing[0]);
            if (firstMissingRow) {
                firstMissingRow.scrollIntoView({behavior: "smooth", block: "center"});
            }
            resultsDiv.style.display = "none";
            return;
        }

        errorDiv.textContent = "";

        // Compute average rating per dimension
        const dimResults = dimensions.map(dim => {
            const qIds = dimensionQuestions[dim.id];
            let total = 0;

            qIds.forEach(qId => {
                const selected = document.querySelector('input[name="q' + qId + '"]:checked');
                let value = parseInt(selected.value, 10);
                const q = questionLookup[qId];

                // Reverse score where needed so that lower numbers always mean more room to grow
                if (q.reverse) {
                    value = 6 - value;
                }

                total += value;
            });

            const avg = total / qIds.length;
            return {
                id: dim.id,
                name: dim.name,
                description: dim.description,
                average: avg
            };
        });

        // Sort by average rating: lowest (highest priority) first
        dimResults.sort((a, b) => a.average - b.average);

        renderTopThree(dimResults);
        renderRanking(dimResults);
        renderSummary(dimResults);

        resultsDiv.style.display = "block";
        resultsDiv.scrollIntoView({behavior: "smooth", block: "start"});
    }

    function renderTopThree(dimResults) {
        const container = document.getElementById("top-three");
        container.innerHTML = "";

        const topThree = dimResults.slice(0, 3);

        topThree.forEach((dim, index) => {
            const block = document.createElement("div");
            block.className = "dimension-block";

            const heading = document.createElement("h4");
            heading.textContent = `${index + 1}. ${dim.name} (average rating: ${dim.average.toFixed(2)})`;
            block.appendChild(heading);

            const p = document.createElement("p");
            p.textContent = dim.description;
            block.appendChild(p);

            container.appendChild(block);
        });
    }

    function renderRanking(dimResults) {
        const tbody = document.getElementById("ranking-body");
        tbody.innerHTML = "";

        dimResults.forEach(dim => {
            const tr = document.createElement("tr");

            const nameTd = document.createElement("td");
            nameTd.textContent = dim.name;
            tr.appendChild(nameTd);

            const avgTd = document.createElement("td");
            avgTd.textContent = dim.average.toFixed(2);
            tr.appendChild(avgTd);

            tbody.appendChild(tr);
        });
    }

    function renderSummary(dimResults) {
        const topThree = dimResults.slice(0, 3);
        let text = "";

        text += "PPP dimension priorities (from highest to lowest priority; lower scores usually mean more room to grow):\n\n";
        topThree.forEach((dim, index) => {
            text += `${index + 1}. ${dim.name} – average rating ${dim.average.toFixed(2)}\n`;
        });

        text += "\nFull ranking:\n";
        dimResults.forEach((dim, index) => {
            text += `${index + 1}. ${dim.name} – average rating ${dim.average.toFixed(2)}\n`;
        });

        text += "\nYou can paste this summary into your PPP planning documents or a personal reflection log.\n";
        text += "After you complete a PPP cycle, consider re‑doing the self‑check and comparing results.\n";
        text += "Shifts in your priorities can show where your practice is developing and may help you choose a new\n";
        text += "dimension to focus on in future cycles (for example, as part of working towards a suite of PPP dimension badges).\n";

        document.getElementById("summary-text").value = text;
    }

    // ---------------- Initialise page ----------------

    buildQuestionTable();
    document.getElementById("calculate-button").addEventListener("click", calculatePriorities);
</script>

</body>
</html>
